import { RideDocument, TemporaryRideDocument } from '../../comman/schema/ride.schema';
import { Model } from 'mongoose';
import ApiResponse from 'src/comman/helpers/api-response';
import { CreateRideDto } from './dto/create-ride.dto';
import { RideGateway } from './ride.gateway';
import { UserDocument } from 'src/comman/schema/user.schema';
import { Role } from 'src/comman/enums/role.enum';
import { VerifyRideOtpDto } from './dto/verify-ride-otp.dto';
import { PaymentService } from 'src/comman/payment/payment.service';
import { InvoiceService } from 'src/comman/invoice/invoice.service';
import { CloudinaryService } from 'src/comman/cloudinary/cloudinary.service';
import { DriverService } from '../driver/driver.service';
import { MailService } from 'src/comman/mail/mail.service';
import { RideRatingDto } from './dto/rating.dto';
import { RideRatingDocument } from 'src/comman/schema/rating.schma';
import { DriverPaymentDocument } from 'src/comman/schema/DriverPaymentInfo.schema';
import { DriverEarningDocument } from 'src/comman/schema/driver-earnings.schema';
import { PaymentDocument } from 'src/comman/schema/payment.schema';
export declare class RideService {
    private readonly rideModel;
    private readonly TemporyRideModel;
    private readonly userModel;
    private readonly rideRatingModel;
    private readonly driverPaymentModel;
    private readonly driverEarningModel;
    private readonly paymentModel;
    private readonly rideGateway;
    private readonly paymentService;
    private readonly invoiceService;
    private readonly cloudinaryService;
    private readonly driverService;
    private readonly mailService;
    private readonly logger;
    private rideTimers;
    private readonly twilioClient;
    constructor(rideModel: Model<RideDocument>, TemporyRideModel: Model<TemporaryRideDocument>, userModel: Model<UserDocument>, rideRatingModel: Model<RideRatingDocument>, driverPaymentModel: Model<DriverPaymentDocument>, driverEarningModel: Model<DriverEarningDocument>, paymentModel: Model<PaymentDocument>, rideGateway: RideGateway, paymentService: PaymentService, invoiceService: InvoiceService, cloudinaryService: CloudinaryService, driverService: DriverService, mailService: MailService);
    private getDistanceKm;
    private getNearbyDrivers;
    private sendRideRequestToDrivers;
    private clearRideTimers;
    private calculateFare;
    private updateDriverRating;
    createRide(request: any, createRideDto: CreateRideDto): Promise<ApiResponse<any>>;
    acceptRide(rideId: string, request: any): Promise<ApiResponse<any>>;
    driverArrive(rideId: string, request: any): Promise<ApiResponse<any>>;
    verifyRideOtp(rideId: string, request: any, verifyRideOtpDto: VerifyRideOtpDto, role: Role): Promise<ApiResponse<any>>;
    cencelRide(rideId: string, request: any, reason: string): Promise<ApiResponse<any>>;
    paymentRide(rideId: string, request: any): Promise<ApiResponse<any>>;
    confirmPayment(rideId: string): Promise<Buffer>;
    rideComplete(rideId: string, request: any): Promise<ApiResponse<any>>;
    rideRating(rideId: string, request: any, ratingDto: RideRatingDto): Promise<ApiResponse<any>>;
}
